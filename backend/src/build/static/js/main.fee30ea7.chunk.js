(this["webpackJsonpwhack-a-mole"]=this["webpackJsonpwhack-a-mole"]||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(7),c=a.n(s),o=(a(31),a(8)),i=a.n(o),u=a(19),l=a(14),m=a(9),d=a(10),h=a(12),p=a(11),f=(a(33),a(34),a(20)),v=a(15),b=a(23),E=a(16),y=a(17),k=a(13),j=a(25),O=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("button",{variant:"secondary",className:this.props.className,id:this.props.id,onClick:function(){return e.props.onClick()}})}}]),a}(n.a.Component),S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"renderSquare",value:function(e){var t=this;return n.a.createElement(O,{id:e,className:this.props.squares[e],onClick:function(){return t.props.scoreCounter(e)}})}},{key:"render",value:function(){return n.a.createElement("div",{className:"grid"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2),this.renderSquare(3),this.renderSquare(4),this.renderSquare(5),this.renderSquare(6),this.renderSquare(7),this.renderSquare(8))}}]),a}(n.a.Component),w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{key:this.props.id},n.a.createElement("td",null,this.props.num),n.a.createElement("td",null,this.props.username),n.a.createElement("td",null,this.props.score)))}}]),a}(n.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).state={leaders:[]},r}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0,variant:"secondary"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"Username"),n.a.createElement("th",null,"Score"))),n.a.createElement("tbody",null,this.props.leaders.map((function(e,t){return n.a.createElement(w,{key:e[0],num:t+1,id:e[0],username:e[1],score:e[2]})}))))}}]),a}(n.a.Component),q=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).state={show:!0,username:""},r}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,{show:this.props.show,onHide:function(){return null},animation:"true"},n.a.createElement(v.a.Header,null,n.a.createElement(v.a.Title,null,"Game Over! You Scored ",this.props.score)),n.a.createElement(j.a,null,n.a.createElement(k.a,{xs:9},n.a.createElement(y.a,null,n.a.createElement(E.a,null,n.a.createElement(E.a.Prepend,null,n.a.createElement(E.a.Text,{id:"inputGroupPrepend"},"@")),n.a.createElement(y.a.Control,{type:"text",placeholder:"Username","aria-describedby":"inputGroupPrepend",name:"username",value:this.state.username,onChange:function(t){e.setState({username:t.target.value})},required:!0}),n.a.createElement(y.a.Control.Feedback,{type:"invalid"},"Please choose a username.")))),n.a.createElement(k.a,null,n.a.createElement(f.a,{variant:"primary",type:"submit",onClick:function(){try{e.props.disapper(),e.props.addLeader(e.state.username,e.props.score),console.log("Submit button clicked")}catch(t){console.log(t)}}},"Submit"))),n.a.createElement(v.a.Footer,null,n.a.createElement(f.a,{className:"score-form-Leave",onClick:function(){return e.props.disapper()},variant:"outline-success"},"Leave"))))}}]),a}(n.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).state={squares:Array(9).fill("square"),score:0,timeLeft:5,show_alert:!1,leaders:[]},r}return Object(d.a)(a,[{key:"randomSquare",value:function(){var e=Array(9).fill("square"),t=Math.floor(8*Math.random());console.log("Rand position = "+t),e[t]="mole",this.hitPosition=t,this.setState({squares:e})}},{key:"scoreCounter",value:function(e){e===this.hitPosition&&this.setState({score:this.state.score+1})}},{key:"startTimer",value:function(){var e=this;this.myInterval=setInterval((function(){e.state.timeLeft>0?(e.setState({timeLeft:e.state.timeLeft-1}),e.randomSquare()):(clearInterval(e.myInterval),e.setState({squares:Array(9).fill("square")}),e.setState({show_alert:!0}))}),1e3)}},{key:"resetGame",value:function(){0===this.state.timeLeft&&(this.setState({squares:Array(9).fill("square"),score:0,timeLeft:5}),this.startTimer())}},{key:"addLeader",value:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,n,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("add leader just got called with",t," -> ",a),"/api/leaders/",e.next=4,fetch("/api/leaders/",{method:"post",body:JSON.stringify({username:t,score:a}),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,this.setState({leaders:[]}),console.log("%%%%",n),e.next=12,n.forEach((function(e){(function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.setState((function(t){return{leaders:[].concat(Object(u.a)(t.leaders),[[e._id,e.username,e.score]])}}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/leaders/",e.next=3,fetch("/api/leaders/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),a.forEach((function(e){(function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.setState((function(t){return{leaders:[].concat(Object(u.a)(t.leaders),[[e._id,e.username,e.score]])}}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"parent-div"},n.a.createElement("div",{className:"page-header"},n.a.createElement("h1",null,"Whack-A-Mole")),n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e.startTimer()}},"Start"),n.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){e.resetGame()}}," Reset "),n.a.createElement("h4",{id:"score"},"Score: ",this.state.score),n.a.createElement("div",{className:"game"},n.a.createElement("h4",{id:"time-left"},"Seconds left: ",this.state.timeLeft),n.a.createElement(S,{squares:this.state.squares,scoreCounter:function(t){return e.scoreCounter(t)}}),n.a.createElement(q,{show:this.state.show_alert,disapper:function(){return e.setState({show_alert:!1})},reset:function(){return e.resetGame()},addLeader:function(t,a){return e.addLeader(t,a)},score:this.state.score})),n.a.createElement("div",{className:"high-score-list"},n.a.createElement("h3",null,"High Scores"),n.a.createElement(g,{leaders:this.state.leaders})))}}]),a}(n.a.Component);c.a.render(n.a.createElement(C,null),document.getElementById("root"));var x=C;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.fee30ea7.chunk.js.map